[
null,
{"id":1,"list":[{"code":355,"indent":0,"parameters":["window.playerdirection=$gamePlayer._direction/2"]},{"code":111,"indent":0,"parameters":[12,"$gameActors.actor(1).hp<=1"]},{"code":111,"indent":1,"parameters":[12,"window.playerdead==false"]},{"code":117,"indent":2,"parameters":[8]},{"code":117,"indent":2,"parameters":[9]},{"code":117,"indent":2,"parameters":[10]},{"code":111,"indent":2,"parameters":[8,3]},{"code":355,"indent":3,"parameters":["worker.postMessage(\"chest:\"+5+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y)"]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":355,"indent":2,"parameters":["window.playerdead=true"]},{"code":223,"indent":2,"parameters":[[0,0,0,255],60,false]},{"code":205,"indent":2,"parameters":[-1,{"list":[{"code":37,"indent":null},{"code":39,"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":true}]},{"code":505,"indent":2,"parameters":[{"code":37,"indent":null}]},{"code":505,"indent":2,"parameters":[{"code":39,"indent":null}]},{"code":355,"indent":2,"parameters":["worker.postMessage(\"dead:\"+(playerid-1000))"]},{"code":655,"indent":2,"parameters":["lantern=false"]},{"code":655,"indent":2,"parameters":["$gameMap._interpreter.pluginCommand(\"ambientlight\", [ \"7\" ]);"]},{"code":655,"indent":2,"parameters":["$gameScreen.startTint([0,0,0,0], 0);"]},{"code":355,"indent":2,"parameters":["$gameActors.actor(1).addParam(0, -($gameActors.actor(1).mhp-1));"]},{"code":655,"indent":2,"parameters":["$gameActors.actor(1).addParam(0, 99);"]},{"code":655,"indent":2,"parameters":["$gameActors.actor(1).addParam(1, -($gameActors.actor(1).mmp-1));"]},{"code":655,"indent":2,"parameters":["$gameActors.actor(1).addParam(1, 99);"]},{"code":655,"indent":2,"parameters":["document.getElementById('shieldpic').style.visibility='hidden'"]},{"code":655,"indent":2,"parameters":["$gameMap._interpreter.pluginCommand(\"PlayerLantern\", [ \"OFF\" ]);"]},{"code":355,"indent":2,"parameters":["$gameParty.gainGold(Number($gameParty.gold()*-1))"]},{"code":655,"indent":2,"parameters":["if($gameMap._mapId==7){"]},{"code":655,"indent":2,"parameters":["$gamePlayer._characterName=\"Monster\""]},{"code":655,"indent":2,"parameters":["$gameParty.battleMembers()[0]._characterName=\"Monster\""]},{"code":655,"indent":2,"parameters":["$gamePlayer._characterIndex=1"]},{"code":655,"indent":2,"parameters":["$gameParty.battleMembers()[0]._characterIndex=1"]},{"code":655,"indent":2,"parameters":["}"]},{"code":235,"indent":2,"parameters":[100]},{"code":126,"indent":2,"parameters":[1,1,0,1]},{"code":126,"indent":2,"parameters":[2,1,0,1]},{"code":126,"indent":2,"parameters":[3,1,0,1]},{"code":126,"indent":2,"parameters":[4,1,0,1]},{"code":126,"indent":2,"parameters":[6,1,0,1]},{"code":126,"indent":2,"parameters":[5,1,0,1]},{"code":126,"indent":2,"parameters":[7,1,0,1]},{"code":126,"indent":2,"parameters":[3,1,0,1]},{"code":314,"indent":2,"parameters":[0,0]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"resetsignal===1"]},{"code":223,"indent":1,"parameters":[[0,0,0,0],60,false]},{"code":355,"indent":1,"parameters":["window.playerdead==true"]},{"code":205,"indent":1,"parameters":[-1,{"list":[{"code":38,"indent":null},{"code":40,"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":1,"parameters":[{"code":38,"indent":null}]},{"code":505,"indent":1,"parameters":[{"code":40,"indent":null}]},{"code":111,"indent":1,"parameters":[12,"$gameMap._mapId==1"]},{"code":355,"indent":2,"parameters":["var possibleX=[26,13,43,42,62,63,79,96,89,74,73,86,65,54,53,41,39,44,26,51,51,48]"]},{"code":655,"indent":2,"parameters":["var possibleY=[11,27,10,28,16,29,24,22,36,41,51,58,68,56,73,64,50,37,38,28,80,91]"]},{"code":655,"indent":2,"parameters":["var arindex=Math.floor(Math.random() * possibleY.length)"]},{"code":655,"indent":2,"parameters":[""]},{"code":655,"indent":2,"parameters":["$gamePlayer.reserveTransfer(1,possibleX[arindex],possibleY[arindex],2,2);"]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":355,"indent":1,"parameters":["$gameActors.actor(1).addParam(0, -($gameActors.actor(1).mhp-1));"]},{"code":655,"indent":1,"parameters":["$gameActors.actor(1).addParam(0, 99);"]},{"code":655,"indent":1,"parameters":["$gameActors.actor(1).addParam(1, -($gameActors.actor(1).mmp-1));"]},{"code":655,"indent":1,"parameters":["$gameActors.actor(1).addParam(1, 99);"]},{"code":655,"indent":1,"parameters":["document.getElementById('shieldpic').style.visibility='hidden'"]},{"code":655,"indent":1,"parameters":["$gameMap._interpreter.pluginCommand(\"PlayerLantern\", [ \"OFF\" ]);"]},{"code":355,"indent":1,"parameters":["$gameParty.gainGold(Number($gameParty.gold()*-1))"]},{"code":235,"indent":1,"parameters":[100]},{"code":126,"indent":1,"parameters":[1,1,0,1]},{"code":126,"indent":1,"parameters":[2,1,0,1]},{"code":126,"indent":1,"parameters":[3,1,0,1]},{"code":126,"indent":1,"parameters":[4,1,0,1]},{"code":126,"indent":1,"parameters":[6,1,0,1]},{"code":126,"indent":1,"parameters":[5,1,0,1]},{"code":126,"indent":1,"parameters":[7,1,0,1]},{"code":126,"indent":1,"parameters":[3,1,0,1]},{"code":314,"indent":1,"parameters":[0,0]},{"code":355,"indent":1,"parameters":["window.playerdead=false"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"currentselected==1"]},{"code":111,"indent":1,"parameters":[8,2]},{"code":231,"indent":2,"parameters":[100,"Weapon",0,0,20,560,100,100,255,0]},{"code":0,"indent":2,"parameters":[]},{"code":411,"indent":1,"parameters":[]},{"code":111,"indent":2,"parameters":[8,4]},{"code":231,"indent":3,"parameters":[100,"staff",0,0,20,560,100,100,255,0]},{"code":0,"indent":3,"parameters":[]},{"code":411,"indent":2,"parameters":[]},{"code":235,"indent":3,"parameters":[100]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[12,"currentselected==2"]},{"code":111,"indent":2,"parameters":[8,1]},{"code":231,"indent":3,"parameters":[100,"potion",0,0,20,560,100,100,255,0]},{"code":0,"indent":3,"parameters":[]},{"code":411,"indent":2,"parameters":[]},{"code":111,"indent":3,"parameters":[8,5]},{"code":231,"indent":4,"parameters":[100,"mppotion",0,0,20,560,100,100,255,0]},{"code":0,"indent":4,"parameters":[]},{"code":411,"indent":3,"parameters":[]},{"code":235,"indent":4,"parameters":[100]},{"code":0,"indent":4,"parameters":[]},{"code":412,"indent":3,"parameters":[]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":411,"indent":1,"parameters":[]},{"code":111,"indent":2,"parameters":[12,"currentselected==3"]},{"code":111,"indent":3,"parameters":[8,6]},{"code":231,"indent":4,"parameters":[100,"buildtool",0,0,20,560,100,100,255,0]},{"code":0,"indent":4,"parameters":[]},{"code":411,"indent":3,"parameters":[]},{"code":111,"indent":4,"parameters":[8,7]},{"code":231,"indent":5,"parameters":[100,"sword",0,0,20,560,100,100,255,0]},{"code":0,"indent":5,"parameters":[]},{"code":411,"indent":4,"parameters":[]},{"code":235,"indent":5,"parameters":[100]},{"code":0,"indent":5,"parameters":[]},{"code":412,"indent":4,"parameters":[]},{"code":0,"indent":4,"parameters":[]},{"code":412,"indent":3,"parameters":[]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"spawn","switchId":4999,"trigger":2},
{"id":2,"list":[{"code":111,"indent":0,"parameters":[8,2]},{"code":111,"indent":1,"parameters":[12,"weapondelay==0"]},{"code":355,"indent":2,"parameters":["worker.postMessage(\"arrow:\"+$gamePlayer._x+\":\"+$gamePlayer._y+\":\"+playerid+\":\"+playerdirection)"]},{"code":655,"indent":2,"parameters":["weapondelay=333"]},{"code":655,"indent":2,"parameters":["setTimeout(()=>{"]},{"code":655,"indent":2,"parameters":["weapondelay=0"]},{"code":655,"indent":2,"parameters":["},weapondelay)"]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[8,4]},{"code":111,"indent":2,"parameters":[12,"$gameActors.actor(1).mp >= 15 && weapondelay==0"]},{"code":355,"indent":3,"parameters":["worker.postMessage(\"magic:\"+$gamePlayer._x+\":\"+$gamePlayer._y+\":\"+playerid+\":\"+playerdirection)"]},{"code":655,"indent":3,"parameters":["weapondelay=1000"]},{"code":655,"indent":3,"parameters":["setTimeout(()=>{"]},{"code":655,"indent":3,"parameters":["weapondelay=0"]},{"code":655,"indent":3,"parameters":["},weapondelay)"]},{"code":312,"indent":3,"parameters":[0,0,1,0,15]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"weapon","switchId":1,"trigger":0},
{"id":3,"list":[{"code":111,"indent":0,"parameters":[8,6]},{"code":111,"indent":1,"parameters":[12,"weapondelay==0"]},{"code":355,"indent":2,"parameters":["0==usingmenu&&(usingmenu=!0,tempplayerdirection=playerdirection,choices=[],params=[],$gameMessage.setChoices(choices,0),choices.push(\"Block\"),choices.push(\"Spikes\"),choices.push(\"Portal Entrance\"),choices.push(\"Portal Exit\"),choices.push(\"Door\"),choices.push(\"Crystal\"),choices.push(\"Sentry\"),choices.push(\"Close\"),params.push(),$gameMessage.setChoiceCallback(function(e){0==e?(worker.postMessage(\"build:\"+tempplayerdirection+\":11\"),usingmenu=!1):1==e?(worker.postMessage(\"build:\"+tempplayerdirection+\":12\"),usingmenu=!1):2==e?(worker.postMessage(\"build:\"+tempplayerdirection+\":13:tpEntrance:\"+playerid),usingmenu=!1):3==e&&(worker.postMessage(\"build:\"+tempplayerdirection+\":14:tpExit:\"+playerid),usingmenu=!1),4==e?2==tempplayerdirection||3==tempplayerdirection?(worker.postMessage(\"build:\"+tempplayerdirection+\":15:doorh:\"+playerid),usingmenu=!1):(worker.postMessage(\"build:\"+tempplayerdirection+\":16:doorv:\"+playerid),usingmenu=!1):5==e?(worker.postMessage(\"build:\"+tempplayerdirection+\":17\"),usingmenu=!1):6==e?(worker.postMessage(\"build:\"+tempplayerdirection+\":23:sentry\"),usingmenu=!1):usingmenu=!1}));"]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[8,7]},{"code":111,"indent":2,"parameters":[12,"weapondelay==0"]},{"code":355,"indent":3,"parameters":["if(2==$gamePlayer._direction){worker.postMessage(\"animation:\"+playerid+\":4:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x-1)+\":\"+($gamePlayer._y+1)),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+($gamePlayer._y+1)),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x+1)+\":\"+($gamePlayer._y+1));for(var i=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;i--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1).length;i--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1).length;i--;)$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP?$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1).length;i--;)$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP?$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].y)))}else if(8==$gamePlayer._direction){worker.postMessage(\"animation:\"+playerid+\":3:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x-1)+\":\"+($gamePlayer._y-1)),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+($gamePlayer._y-1)),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x+1)+\":\"+($gamePlayer._y-1));for(i=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;i--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1).length;i--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1).length;i--;)$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP?$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1).length;i--;)$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP?$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].y)))}else if(6==$gamePlayer._direction){worker.postMessage(\"animation:\"+playerid+\":1:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x+1)+\":\"+($gamePlayer._y+1)),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x+1)+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x+1)+\":\"+($gamePlayer._y-1));for(i=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;i--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1).length;i--;)$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP?$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y-1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y).length;i--;)$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i]&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].HP?$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1).length;i--;)$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP?$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y+1)[i].y)))}else{worker.postMessage(\"animation:\"+playerid+\":2:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x-1)+\":\"+($gamePlayer._y+1)),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x-1)+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x-1)+\":\"+($gamePlayer._y-1));for(i=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;i--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1).length;i--;)$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP?$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y-1)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y).length;i--;)$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i]&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].HP?$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[i].y)));for(i=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1).length;i--;)$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP&&0==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]._erased&&(99==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP?$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]._direction=6):$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i]._direction=8),$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP-=30,$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].HP<=0&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].x+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y+1)[i].y)))}"]},{"code":655,"indent":3,"parameters":["weapondelay=333"]},{"code":655,"indent":3,"parameters":["setTimeout(()=>{"]},{"code":655,"indent":3,"parameters":["weapondelay=0"]},{"code":655,"indent":3,"parameters":["},weapondelay)"]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"Melee","switchId":1,"trigger":0},
{"id":4,"list":[{"code":356,"indent":0,"parameters":["Fog rare"]},{"code":231,"indent":0,"parameters":[1,"Title_Background",0,0,0,0,100,100,255,0]},{"code":236,"indent":0,"parameters":["storm",9,999,false]},{"code":355,"indent":0,"parameters":["if(localStorage.crtmode=='true'){"]},{"code":655,"indent":0,"parameters":["$gameMap._interpreter.pluginCommand(\"createFilter\", [ \"a\",\"crt\",\"1\" ]);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":["else{"]},{"code":655,"indent":0,"parameters":["$gameMap._interpreter.pluginCommand(\"eraseFilter\", [ \"a\"]);}"]},{"code":655,"indent":0,"parameters":["document.getElementById('updatetext').style.visibility=\"visible\""]},{"code":135,"indent":0,"parameters":[0]},{"code":355,"indent":0,"parameters":["window.stopchecking=true"]},{"code":655,"indent":0,"parameters":["resetimgandaudio()"]},{"code":655,"indent":0,"parameters":["if(localStorage.reconnect!=\"\"){"]},{"code":655,"indent":0,"parameters":["console.log(localStorage.reconnect)"]},{"code":655,"indent":0,"parameters":["window.join=0"]},{"code":655,"indent":0,"parameters":["window.finallist=[localStorage.reconnect]"]},{"code":655,"indent":0,"parameters":["localStorage.reconnect=\"\""]},{"code":655,"indent":0,"parameters":["serverjoin()"]},{"code":655,"indent":0,"parameters":["}"]},{"code":355,"indent":0,"parameters":["require('nw.gui').Window.get().on(\"devtools-opened\",function(){"]},{"code":655,"indent":0,"parameters":["    require('nw.gui').Window.get().closeDevTools();"]},{"code":655,"indent":0,"parameters":["});"]},{"code":111,"indent":0,"parameters":[12,"finallist.length>0"]},{"code":235,"indent":1,"parameters":[1]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":118,"indent":1,"parameters":["menu"]},{"code":102,"indent":1,"parameters":[["Offline","Server List","Favorites","Options","Website","Quit"],-1,0,0,0]},{"code":402,"indent":1,"parameters":[0,"Offline"]},{"code":102,"indent":2,"parameters":[["Tower Defense","Tower Defense 2","VS Twitch","Other(Load)","Back"],4,0,0,0]},{"code":402,"indent":2,"parameters":[0,"Tower Defense"]},{"code":221,"indent":3,"parameters":[]},{"code":201,"indent":3,"parameters":[0,9,6,2,0,2]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[1,"Tower Defense 2"]},{"code":221,"indent":3,"parameters":[]},{"code":201,"indent":3,"parameters":[0,10,15,3,0,2]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[2,"VS Twitch"]},{"code":221,"indent":3,"parameters":[]},{"code":201,"indent":3,"parameters":[0,8,24,16,0,2]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[3,"Other(Load)"]},{"code":205,"indent":3,"parameters":[-1,{"list":[{"code":40,"indent":null},{"code":38,"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":true}]},{"code":505,"indent":3,"parameters":[{"code":40,"indent":null}]},{"code":505,"indent":3,"parameters":[{"code":38,"indent":null}]},{"code":355,"indent":3,"parameters":["function initialize(){document.body.onfocus=checkIt,console.log(\"initializing\")}function checkIt(){setTimeout(()=>{\"\"==document.querySelector(\"input[type=file]\").value&&location.reload()},500),document.body.onfocus=null}document.getElementById(\"fileopen\").onchange=function(){try{var e=document.querySelector(\"input[type=file]\").value,n=new(require(\"./js/plugins/adm-zip.js\"))(e);n.getEntries(),n.extractAllToAsync(\"./www/map\",!0,function(){var e=require(\"./js/libs/ncp.js\").ncp;e.limit=20;var n=0;e(\"./www/map/img/\",\"./www/img/\",function(){n++}),e(\"./www/map/audio/\",\"./www/audio/\",function(){n++});var a=setInterval(()=>{if(n>1){clearInterval(a),fs.copyFileSync(\"./www/map/data/Map001.json\",\"./www/data/Map005.json\");var e=JSON.parse(fs.readFileSync(\"./www/map/data/MapInfos.json\"))[1];e.id=5,e.order=5,$dataMapInfos[5]=e;for(var t=JSON.parse(fs.readFileSync(\"./www/map/data/CommonEvents.json\")),o=1;o<t.length;o++)t[o].id=t[o].id+11;$dataCommonEvents=$dataCommonEvents.concat(t),$dataTilesets=JSON.parse(fs.readFileSync(\"./www/map/data/Tilesets.json\"));var i=JSON.parse(fs.readFileSync(\"./www/map/data/Animations.json\"));for(o=1;o<i.length;o++)i[o].id=i[o].id+10;$dataAnimations=$dataAnimations.concat(i),$dataSystem=JSON.parse(fs.readFileSync(\"./www/map/data/System.json\")),$dataActors=JSON.parse(fs.readFileSync(\"./www/map/data/Actors.json\")),document.getElementById(\"loadingtext\").innerText=\"Loading Map...\",require(\"nw.gui\").Window.get().focus(),$gamePlayer.reserveTransfer(5,5,3,2,2,!0);var c=setInterval(()=>{5==$gameMap._mapId&&null!=$dataMap&&null!=$dataMap.scrollType&&(turnHUDonoff(),document.getElementById(\"cancelbutton\").style.visibility=\"hidden\",clearInterval(c),document.getElementById(\"loadingtext\").innerText=\"\")},33)}},33)});var a=Scene_Map.prototype.updateScene;Scene_Map.prototype.updateScene=function(){a.call(this),(Input.isTriggered(\"menu\")||Input.isTriggered(\"escape\"))&&SceneManager._scene instanceof Scene_Options==!1&&SceneManager._scene instanceof Scene_Menu==!1&&$gameTemp.reserveCommonEvent(11,!0)}}catch(n){location.reload()}},document.getElementById(\"fileopen\").onclick=initialize,document.getElementById(\"fileopen\").click();"]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[4,"Back"]},{"code":119,"indent":3,"parameters":["menu"]},{"code":0,"indent":3,"parameters":[]},{"code":404,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[1,"Server List"]},{"code":355,"indent":2,"parameters":["otherchoisesopened=!0;var lista2,lista3,lista,serverr,fs=require(\"fs\");window.finallistnames=new Array,window.finallist=new Array,window.currentvalue=0,window.stopchecking=!1,window.join=0,window.inevent5=!1;var ifrm=document.createElement(\"iframe\");function download(e,t,r){if(e.startsWith(\"https\"))var s=require(\"https\");else s=require(\"http\");var n=require(\"fs\"),i=n.createWriteStream(t);s.get(e,function(e){e.pipe(i),i.on(\"finish\",function(){i.close(r)}),i.on(\"error\",function(e){n.unlink(t),r&&r(e.message)})})}ifrm.id=\"serverlist\",ifrm.setAttribute(\"src\",\"./servers.html\"),ifrm.setAttribute(\"frameBorder\",\"0\"),ifrm.style.width=.9*Graphics.boxWidth+\"px\",ifrm.style.height=.9*Graphics.boxHeight+\"px\",document.body.appendChild(ifrm),Graphics._centerElement(ifrm),ifrm.style.width=.9*Graphics.boxWidth+\"px\",ifrm.style.height=.9*Graphics.boxHeight+\"px\",ifrm.style.zIndex=99,window.servertest=function(e,t){if(currentvalue>servers.length||!0===stopchecking||!e||!t)return stopchecking=!0,void(currentvalue=0);serverr=new WebSocket(t),begingping=0,serverr.onopen=function(){serverr.send(\"ping\"),begingping=performance.now()},serverr.onmessage=function(r){if(r.data.startsWith(\"totalplayers:\")&&!1===stopchecking){var s=r.data;s=(s=s.split(\":\"))[1];var n=performance.now();n-=begingping,n=Math.trunc(n);var i=document.getElementById(\"serverlist\").contentDocument.createElement(\"button\");i.id=e+t,r.data.split(\":\").length>2?i.innerText=e+\"[Locked]         [\"+s+\"]         [\"+n+\"]\":i.innerText=e+\"         [\"+s+\"]         [\"+n+\"]\",i.classList.add(\"button\"),i.setAttribute(\"onclick\",\"parent.join=\"+finallist.length+\";parent.serverjoin();parent.document.getElementById('serverlist').remove()\"),document.getElementById(\"serverlist\").contentDocument.getElementById(\"serverlist\").appendChild(i),i=document.getElementById(\"serverlist\").contentDocument.createElement(\"br\"),document.getElementById(\"serverlist\").contentDocument.getElementById(\"serverlist\").appendChild(i),finallist.push(t)}serverr.close(),currentvalue++,servertest(servernames[currentvalue],servers[currentvalue])},serverr.onerror=function(){serverr.close(),currentvalue++,servertest(servernames[currentvalue],servers[currentvalue])}},download(\"https://raw.githubusercontent.com/elpeleq42/rpgbrservers/master/servers.txt\",\"./servers.txt\",function(e){window.servers=[],window.servernames=[],lista=(lista=(lista=fs.readFileSync(\"./servers.txt\")).toString()).split(\"\\n\"),fs.unlinkSync(\"./servers.txt\");for(var t=0;t<lista.length;t++)\"\"!==lista[t]&&(lista2=lista[t].toString().split(\"-\"),lista3=lista2[0].toString().replace(/\\s/g,\"\"),lista2=lista2[1].toString().replace(/\\s/g,\"\"),servers.push(lista2),servernames.push(lista3));setTimeout(()=>{servertest(servernames[0],servers[0])},250)});"]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[2,"Favorites"]},{"code":102,"indent":2,"parameters":[["List","Add","Back"],2,0,0,0]},{"code":402,"indent":2,"parameters":[0,"List"]},{"code":355,"indent":3,"parameters":["otherchoisesopened=!0,(fs=require(\"fs\")).existsSync(\"./favorites.txt\")||fs.writeFileSync(\"./favorites.txt\",\"\"),otherchoisesopened=!0;var lista2,lista3,lista,serverr,fs=require(\"fs\");window.finallistnames=new Array,window.finallist=new Array,window.currentvalue=0,window.stopchecking=!1,window.join=0,window.inevent5=!1;var ifrm=document.createElement(\"iframe\");function download(e,t,r){if(e.startsWith(\"https\"))var s=require(\"https\");else s=require(\"http\");var i=require(\"fs\"),n=i.createWriteStream(t);s.get(e,function(e){e.pipe(n),n.on(\"finish\",function(){n.close(r)}),n.on(\"error\",function(e){i.unlink(t),r&&r(e.message)})})}ifrm.id=\"serverlist\",ifrm.setAttribute(\"src\",\"./servers.html\"),ifrm.setAttribute(\"frameBorder\",\"0\"),ifrm.style.width=.9*Graphics.boxWidth+\"px\",ifrm.style.height=.9*Graphics.boxHeight+\"px\",document.body.appendChild(ifrm),Graphics._centerElement(ifrm),ifrm.style.width=.9*Graphics.boxWidth+\"px\",ifrm.style.height=.9*Graphics.boxHeight+\"px\",ifrm.style.zIndex=99,window.servertest=function(e,t){if(currentvalue>servers.length||!0===stopchecking||!e||!t)return stopchecking=!0,void(currentvalue=0);serverr=new WebSocket(t),begingping=0,serverr.onopen=function(){serverr.send(\"ping\"),begingping=performance.now()},serverr.onmessage=function(r){if(r.data.startsWith(\"totalplayers:\")&&!1===stopchecking){var s=r.data;s=(s=s.split(\":\"))[1];var i=performance.now();i-=begingping,i=Math.trunc(i);var n=document.getElementById(\"serverlist\").contentDocument.createElement(\"button\");n.id=e+t,r.data.split(\":\").length>2?n.innerText=e+\"[Locked]         [\"+s+\"]         [\"+i+\"]\":n.innerText=e+\"         [\"+s+\"]         [\"+i+\"]\",n.classList.add(\"button\"),n.setAttribute(\"onclick\",\"parent.join=\"+finallist.length+\";parent.serverjoin();parent.document.getElementById('serverlist').remove()\"),document.getElementById(\"serverlist\").contentDocument.getElementById(\"serverlist\").appendChild(n),n=document.getElementById(\"serverlist\").contentDocument.createElement(\"br\"),document.getElementById(\"serverlist\").contentDocument.getElementById(\"serverlist\").appendChild(n),finallist.push(t)}serverr.close(),currentvalue++,servertest(servernames[currentvalue],servers[currentvalue])},serverr.onerror=function(){serverr.close(),currentvalue++,servertest(servernames[currentvalue],servers[currentvalue])}},window.servers=[],window.servernames=[],lista=(lista=(lista=fs.readFileSync(\"./favorites.txt\")).toString()).split(\"\\n\");for(var i=0;i<lista.length;i++)\"\"!==lista[i]&&(lista3=(lista2=lista[i].toString().split(\"-\"))[0].toString().replace(/\\s/g,\"\"),lista2=lista2[1].toString().replace(/\\s/g,\"\"),servers.push(lista2),servernames.push(lista3));setTimeout(()=>{servertest(servernames[0],servers[0])},250);"]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[1,"Add"]},{"code":355,"indent":3,"parameters":["var text=prompt(\"ServerName - ws://serverIP:Port\")"]},{"code":655,"indent":3,"parameters":["var fs=require(\"fs\")"]},{"code":655,"indent":3,"parameters":["if(text!=null){"]},{"code":655,"indent":3,"parameters":["if(fs.existsSync(\"./favorites.txt\")){"]},{"code":655,"indent":3,"parameters":["fs.appendFileSync('./favorites.txt', \"\\n\"+text);"]},{"code":655,"indent":3,"parameters":["}"]},{"code":655,"indent":3,"parameters":["else{"]},{"code":655,"indent":3,"parameters":["fs.writeFileSync(\"./favorites.txt\",text)"]},{"code":655,"indent":3,"parameters":["}"]},{"code":655,"indent":3,"parameters":["}"]},{"code":655,"indent":3,"parameters":["$gameTemp.reserveCommonEvent(4)"]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[2,"Back"]},{"code":119,"indent":3,"parameters":["menu"]},{"code":0,"indent":3,"parameters":[]},{"code":404,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[3,"Options"]},{"code":355,"indent":2,"parameters":["setTimeout(()=>{"]},{"code":655,"indent":2,"parameters":["document.getElementById('updatetext').style.visibility=\"hidden\""]},{"code":655,"indent":2,"parameters":["SceneManager.push(Scene_Options)"]},{"code":655,"indent":2,"parameters":["$gameTemp.reserveCommonEvent(4)"]},{"code":655,"indent":2,"parameters":["},150)"]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[4,"Website"]},{"code":355,"indent":2,"parameters":["require('nw.gui').Shell.openExternal('https://peq42.com');"]},{"code":119,"indent":2,"parameters":["menu"]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[5,"Quit"]},{"code":355,"indent":2,"parameters":["window.close()"]},{"code":0,"indent":2,"parameters":[]},{"code":404,"indent":1,"parameters":[]},{"code":236,"indent":1,"parameters":["none",5,1,false]},{"code":235,"indent":1,"parameters":[1]},{"code":356,"indent":1,"parameters":["Fog OFF"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"Lobby","switchId":1,"trigger":0},
{"id":5,"list":[{"code":355,"indent":0,"parameters":["window.stopchecking=true"]},{"code":655,"indent":0,"parameters":["window.inevent5=true"]},{"code":655,"indent":0,"parameters":["var fs=require(\"fs\"),previouscheck=void 0;window.serverpass=void 0;var rmdir=function(e){fs.existsSync(e)&&(fs.readdirSync(e).forEach(function(a,n){var t=e+\"/\"+a;fs.lstatSync(t).isDirectory()?rmdir(t):fs.unlinkSync(t)}),fs.rmdirSync(e))};function download(e,a,n){if(e.startsWith(\"https\"))var t=require(\"https\");else t=require(\"http\");var r=require(\"fs\"),o=r.createWriteStream(a);t.get(e,function(e){e.pipe(o),o.on(\"finish\",function(){o.close(n)}),o.on(\"error\",function(e){r.unlink(a),n&&n(e.message)})})}if(fs.existsSync(\"./www/map\")?(rmdir(\"./www/map\"),fs.mkdirSync(\"./www/map\")):fs.mkdirSync(\"./www/map\"),servers.length<1)$gameTemp.reserveCommonEvent(4);else{choices=[],params=[],$gameMessage.setChoices(choices,0),$gameMessage.setChoicePositionType(0);for(var i=0;i<finallist.length;i++)choices.push(finallistnames[i]);params.push(),choices.push(\"Back\"),$gameMessage.setChoiceCallback(function(e){var a=!1;Number(e)<finallist.length?(document.getElementById(\"loadingtext\").innerText=\"Connecting...\",setTimeout(()=>{window.join=Number(e);var n=new WebSocket(finallist[join]);n.onopen=function(){document.getElementById(\"cancelbutton\").style.visibility=\"visible\",setTimeout(()=>{n.send(\"map?\")},33)},buffermap=[],n.onmessage=function(e){if(msg=e.data,window.worker=new Worker(\"js/webworker.js\"),\"default\"===msg)a=!0,document.getElementById(\"loadingtext\").innerText=\"Loading Map...\",n.close(),require(\"nw.gui\").Window.get().focus(),$gamePlayer.reserveTransfer(1,12,15,2,2),checkmap=setInterval(()=>{1==$gameMap._mapId&&null!=$dataMap&&null!=$dataMap.scrollType&&(turnHUDonoff(),$gameTemp.reserveCommonEvent(6),document.getElementById(\"cancelbutton\").style.visibility=\"hidden\",clearInterval(checkmap))},50);else if(\"free4all\"===msg)a=!0,document.getElementById(\"loadingtext\").innerText=\"Loading Map...\",n.close(),require(\"nw.gui\").Window.get().focus(),$gamePlayer.reserveTransfer(6,12,15,2,2),checkmap=setInterval(()=>{1!=$gameMap._mapId&&6!=$gameMap._mapId&&7!=$gameMap._mapId||null==$dataMap||null==$dataMap.scrollType||(turnHUDonoff(),$gameTemp.reserveCommonEvent(6),document.getElementById(\"cancelbutton\").style.visibility=\"hidden\",clearInterval(checkmap))},50);else if(\"zombies\"===msg)a=!0,document.getElementById(\"loadingtext\").innerText=\"Loading Map...\",n.close(),require(\"nw.gui\").Window.get().focus(),$gamePlayer.reserveTransfer(7,33,29,2,2),checkmap=setInterval(()=>{1!=$gameMap._mapId&&6!=$gameMap._mapId&&7!=$gameMap._mapId||null==$dataMap||null==$dataMap.scrollType||(turnHUDonoff(),$gameTemp.reserveCommonEvent(6),document.getElementById(\"cancelbutton\").style.visibility=\"hidden\",clearInterval(checkmap))},50);else if(msg.startsWith(\"http\")){document.getElementById(\"loadingtext\").innerText=\"Downloading Map Data...\",a=!0;var t=0,r=setInterval(()=>{t=fs.statSync(\"./www/map/test.zip\").size/1048576-t,document.getElementById(\"loadingtext\").innerText=\"Downloading Map Data...\"+t.toFixed(2)+\"MBps\"},1e3);download(msg,\"./www/map/test.zip\",function(){clearInterval(r);var e=new Worker(\"./js/filehandler.js\");document.getElementById(\"loadingtext\").innerText=\"Extracting Map...\",e.onmessage=function(a){if(\"end\"==a.data){e.terminate(),fs.copyFileSync(\"./www/map/data/Map001.json\",\"./www/data/Map005.json\");var t=JSON.parse(fs.readFileSync(\"./www/map/data/MapInfos.json\"))[1];t.id=5,t.order=5,$dataMapInfos[5]=t;for(var r=JSON.parse(fs.readFileSync(\"./www/map/data/CommonEvents.json\")),o=1;o<r.length;o++)r[o].id=r[o].id+11;$dataCommonEvents=$dataCommonEvents.concat(r),$dataTilesets=JSON.parse(fs.readFileSync(\"./www/map/data/Tilesets.json\"));var s=JSON.parse(fs.readFileSync(\"./www/map/data/Animations.json\"));for(o=1;o<s.length;o++)s[o].id=s[o].id+10;$dataAnimations=$dataAnimations.concat(s),$dataSystem=JSON.parse(fs.readFileSync(\"./www/map/data/System.json\")),$dataActors=JSON.parse(fs.readFileSync(\"./www/map/data/Actors.json\")),document.getElementById(\"loadingtext\").innerText=\"Loading Map...\",n.close(),require(\"nw.gui\").Window.get().focus(),$gamePlayer.reserveTransfer(5,5,3,2,2);var i=setInterval(()=>{5==$gameMap._mapId&&null!=$dataMap&&null!=$dataMap.scrollType&&(turnHUDonoff(),$gameTemp.reserveCommonEvent(6,!0),document.getElementById(\"cancelbutton\").style.visibility=\"hidden\",clearInterval(i))},33)}else document.getElementById(\"loadingtext\").innerText=\"Error.\",setTimeout(()=>{location.reload()},1250)}})}else if(\"pass?\"!==msg)if(\"finished\"===msg){a=!0;for(var o=0;o<buffermap.length;o++)buffermap[o]=Buffer.from(buffermap[o],\"binary\");var s=Buffer.concat(buffermap);buffermap=void 0,window.gc(),fs.writeFile(\"./www/map/test.zip\",s,function(){var e=new Worker(\"./js/filehandler.js\");document.getElementById(\"loadingtext\").innerText=\"Extracting Map...\",e.onmessage=function(a){if(\"end\"==a.data){e.terminate(),fs.copyFileSync(\"./www/map/data/Map001.json\",\"./www/data/Map005.json\");var t=JSON.parse(fs.readFileSync(\"./www/map/data/MapInfos.json\"))[1];t.id=5,t.order=5,$dataMapInfos[5]=t;for(var r=JSON.parse(fs.readFileSync(\"./www/map/data/CommonEvents.json\")),o=1;o<r.length;o++)r[o].id=r[o].id+11;$dataCommonEvents=$dataCommonEvents.concat(r),$dataTilesets=JSON.parse(fs.readFileSync(\"./www/map/data/Tilesets.json\"));var s=JSON.parse(fs.readFileSync(\"./www/map/data/Animations.json\"));for(o=1;o<s.length;o++)s[o].id=s[o].id+10;$dataAnimations=$dataAnimations.concat(s),$dataSystem=JSON.parse(fs.readFileSync(\"./www/map/data/System.json\")),$dataActors=JSON.parse(fs.readFileSync(\"./www/map/data/Actors.json\")),document.getElementById(\"loadingtext\").innerText=\"Loading Map...\",n.close(),require(\"nw.gui\").Window.get().focus(),$gamePlayer.reserveTransfer(5,5,3,2,2);var i=setInterval(()=>{5==$gameMap._mapId&&null!=$dataMap&&null!=$dataMap.scrollType&&(turnHUDonoff(),$gameTemp.reserveCommonEvent(6,!0),document.getElementById(\"cancelbutton\").style.visibility=\"hidden\",clearInterval(i))},33)}else document.getElementById(\"loadingtext\").innerText=\"Error.\",setTimeout(()=>{location.reload()},1250)}})}else document.getElementById(\"loadingtext\").innerText=\"Downloading Map Data...\",null==previouscheck?(previouscheck=0,timechecker=0):(console.log(msg.length,performance.now(),timechecker),previouscheck=msg.length/((performance.now()-timechecker)/1e3)/1048576,document.getElementById(\"loadingtext\").innerText=\"Downloading Map Data...\"+previouscheck.toFixed(2)+\"MBps\"),buffermap.push(msg),timechecker=performance.now();else window.serverpass=prompt(\"Type the server password\"),n.send(serverpass)},n.onclose=function(){0==a&&(document.getElementById(\"loadingtext\").innerText=\"Error\",setTimeout(()=>{location.reload()},1250))}},50)):(document.getElementById(\"loadingtext\").innerText=\"\",$gameTemp.reserveCommonEvent(4))})}"]},{"code":655,"indent":0,"parameters":["//# sourceURL=serverlist.js"]},{"code":0,"indent":0,"parameters":[]}],"name":"ServerList","switchId":1,"trigger":0},
{"id":6,"list":[{"code":355,"indent":0,"parameters":["playerid=undefined"]},{"code":655,"indent":0,"parameters":["function getRandomInt(min, max) {"]},{"code":655,"indent":0,"parameters":["  min = Math.ceil(min);"]},{"code":655,"indent":0,"parameters":["  max = Math.floor(max);"]},{"code":655,"indent":0,"parameters":["  return Math.floor(Math.random() * (max - min)) + min;"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":["randomint=getRandomInt(1,7)"]},{"code":111,"indent":0,"parameters":[12,"randomint==2"]},{"code":205,"indent":1,"parameters":[-1,{"list":[{"code":41,"parameters":["Actor1",2],"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":1,"parameters":[{"code":41,"parameters":["Actor1",2],"indent":null}]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[12,"randomint==3"]},{"code":205,"indent":2,"parameters":[-1,{"list":[{"code":41,"parameters":["Actor1",3],"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":2,"parameters":[{"code":41,"parameters":["Actor1",3],"indent":null}]},{"code":0,"indent":2,"parameters":[]},{"code":411,"indent":1,"parameters":[]},{"code":111,"indent":2,"parameters":[12,"randomint==4"]},{"code":205,"indent":3,"parameters":[-1,{"list":[{"code":41,"parameters":["Actor1",7],"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":3,"parameters":[{"code":41,"parameters":["Actor1",7],"indent":null}]},{"code":0,"indent":3,"parameters":[]},{"code":411,"indent":2,"parameters":[]},{"code":111,"indent":3,"parameters":[12,"randomint==5"]},{"code":205,"indent":4,"parameters":[-1,{"list":[{"code":41,"parameters":["Actor1",6],"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":4,"parameters":[{"code":41,"parameters":["Actor1",6],"indent":null}]},{"code":0,"indent":4,"parameters":[]},{"code":411,"indent":3,"parameters":[]},{"code":111,"indent":4,"parameters":[12,"randomint==6"]},{"code":205,"indent":5,"parameters":[-1,{"list":[{"code":41,"parameters":["Actor3",2],"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":5,"parameters":[{"code":41,"parameters":["Actor3",2],"indent":null}]},{"code":0,"indent":5,"parameters":[]},{"code":411,"indent":4,"parameters":[]},{"code":111,"indent":5,"parameters":[12,"randomint==7"]},{"code":205,"indent":6,"parameters":[-1,{"list":[{"code":41,"parameters":["Actor3",0],"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":6,"parameters":[{"code":41,"parameters":["Actor3",0],"indent":null}]},{"code":0,"indent":6,"parameters":[]},{"code":412,"indent":5,"parameters":[]},{"code":0,"indent":5,"parameters":[]},{"code":412,"indent":4,"parameters":[]},{"code":0,"indent":4,"parameters":[]},{"code":412,"indent":3,"parameters":[]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"$gameMap._mapId==1"]},{"code":356,"indent":1,"parameters":["StopPlayerMovement"]},{"code":355,"indent":1,"parameters":["window.playeridchecker=setInterval(()=>{"]},{"code":655,"indent":1,"parameters":["if(playerid!==undefined){"]},{"code":655,"indent":1,"parameters":["var possibleX=[26,13,43,42,62,63,79,96,89,74,73,86,65,54,53,41,39,44,26,51,51,48]"]},{"code":655,"indent":1,"parameters":["var possibleY=[11,27,10,28,16,29,24,22,36,41,51,58,68,56,73,64,50,37,38,28,80,91]"]},{"code":655,"indent":1,"parameters":["var arindex=Math.floor(Math.random() * possibleY.length)"]},{"code":655,"indent":1,"parameters":[""]},{"code":655,"indent":1,"parameters":["$gamePlayer.reserveTransfer(1,possibleX[arindex],possibleY[arindex],2,2);"]},{"code":655,"indent":1,"parameters":[""]},{"code":655,"indent":1,"parameters":["clearInterval(playeridchecker)"]},{"code":655,"indent":1,"parameters":["}"]},{"code":655,"indent":1,"parameters":["},100)"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"$gameMap._mapId==6"]},{"code":355,"indent":1,"parameters":["window.playeridchecker=setInterval(()=>{"]},{"code":655,"indent":1,"parameters":["if(playerid!==undefined){"]},{"code":655,"indent":1,"parameters":["var possibleX=[11,21,31,40,48,40,44,58,69,60,52,58,68,12,77,8,8,12,3,21,26,26,37,44,39,37,57]"]},{"code":655,"indent":1,"parameters":["var possibleY=[8,6,8,9,15,29,36,43,19,9,59,68,62,65,77,29,36,43,45,45,39,25,45,42,53,63,28]"]},{"code":655,"indent":1,"parameters":["var arindex=Math.floor(Math.random() * possibleY.length)"]},{"code":655,"indent":1,"parameters":[""]},{"code":655,"indent":1,"parameters":["$gamePlayer.reserveTransfer(6,possibleX[arindex],possibleY[arindex],2,2);"]},{"code":655,"indent":1,"parameters":[""]},{"code":655,"indent":1,"parameters":["clearInterval(playeridchecker)"]},{"code":655,"indent":1,"parameters":["}"]},{"code":655,"indent":1,"parameters":["},100)"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":211,"indent":0,"parameters":[1]},{"code":222,"indent":0,"parameters":[]},{"code":121,"indent":0,"parameters":[4999,4999,0]},{"code":355,"indent":0,"parameters":["document.getElementById('loadingtext').innerText = \"\""]},{"code":655,"indent":0,"parameters":["window.usingmenu=false"]},{"code":355,"indent":0,"parameters":["var update,lastID=0,contadordeeventos=1,eventmaxcounter=0,lantern=!1,$enemieskilled=0,lastpos=\"\",weapondelay=0;window.playerdirection,window.resetsignal=0,window.playerid=void 0,window.ping=0,window.coordinates,worker.onmessage=function(e){if(\"connected\"==(update=(update=e.data).split(\":\"))&&(intervalo=setInterval(()=>{null!=playerid&&$gamePlayer._direction!==previousdirection&&(worker.postMessage(\"rotation:\"+playerid+\":\"+$gamePlayer._direction),previousdirection=$gamePlayer._direction)},32),window.connectedtotheserver=!0,lastping=!0),update[0].startsWith(\"id\"))playerid=1e3+Number(update[1]),Yanfly.SpawnEventAt1(2,20,$gamePlayer._x,$gamePlayer._y,!0,\"\",\"\");else if(update[0].startsWith(\"update\")){if(null==playerid||update.join(\":\").startsWith(lastpos)&&Number(update[1])+1e3==playerid)return;if(lastpos=\"\",\"false\"==update[6]&&7==$gameMap._mapId&&(playerid==Number(update[1])+1e3?($gamePlayer._characterName=\"Monster\",$gamePlayer._characterIndex=1):($gameMap.event(Number(update[1])+1e3)._characterName=\"Monster\",$gameMap.event(Number(update[1])+1e3)._characterIndex=1)),update[1]==playerid-1e3)(($gamePlayer._x-Number(update[2]))*($gamePlayer._x-Number(update[2]))>4||($gamePlayer._y-Number(update[3]))*($gamePlayer._y-Number(update[3]))>4)&&$gamePlayer.reserveTransfer(5,Number(update[2]),Number(update[3]),2,1);else{var a=Number(update[1])+1e3;if(!$gameMap.event(a)&&Number(update[1])!=playerid-1e3&&\"true\"==update[6]&&eventmaxcounter<1e3)return Yanfly.SpawnEventAt(2,1,5,5,!0,\"[\"+Number(update[1])+\"]\"+update[5]),void eventmaxcounter++;if($gameMap.event(a)._canPlayFootsteps=\"true\"==update[4],\"true\"==update[4]?$gameMap._events[a]._moveSpeed=6:$gameMap._events[a]._moveSpeed=5,$gameMap._events[a].isMoving())return;var t=$gameMap.event(a);if(update[2]+\":\"+update[3]==t._x+\":\"+t._y)return;if((t._x-Number(update[2]))*(t._x-Number(update[2]))>4||t._y-Number(update[3])*t._y-Number(update[3])>4)return $gameMap.event(a).setPosition(Number(update[2]),Number(update[3])),void t.setPosition(Number(update[2]),Number(update[3]));t._x>Number(update[2])?t._y>Number(update[3])?t.moveDiagonally(4,8):t._y<Number(update[3])?t.moveDiagonally(4,2):t.moveDiagonally(4,0):t._x<Number(update[2])?t._y<Number(update[3])?t.moveDiagonally(6,2):t._y>Number(update[3])?t.moveDiagonally(6,8):t.moveDiagonally(6,0):t._y<Number(update[3])?t._x>Number(update[2])?t.moveDiagonally(4,2):$gameMap.event(a)._x<Number(update[2])?t.moveDiagonally(6,2):t.moveDiagonally(0,2):t._x>Number(update[2])?t.moveDiagonally(4,8):t._x<Number(update[2])?t.moveDiagonally(6,8):t.moveDiagonally(0,8)}}else if(update[0].startsWith(\"eventid\"))void 0!==playerid&&Number(update[1])+1e3!==playerid&&$gameSelfSwitches.setValue([$gameMap._mapId,1e3+Number(update[1]),\"A\"],!1);else if(update[0].startsWith(\"movemob\")){for(var r=1999;r<$gameMap._events.length;r++)if($gameMap._events[r]&&$gameMap._events[r].serverID&&$gameMap._events[r].serverID==update[1]){var m=0,g=0;Number(update[2])>$gameMap._events[r]._x?m=6:Number(update[2])<$gameMap._events[r]._x&&(m=4),Number(update[3])>$gameMap._events[r]._y?g=2:Number(update[3])<$gameMap._events[r]._y&&(g=8),update[2]==$gameMap._events[r]._x&&update[3]==$gameMap._events[r]._y&&worker.postMessage(\"confirmed:\"+update[1]+\":\"+update[2]+\":\"+update[3]),$gamePlayer.canPassDiagonally($gameMap._events[r]._x,$gameMap._events[r]._y,m,g)&&Math.abs(Number(update[2])-$gameMap._events[r]._x)+Math.abs(Number(update[3])-$gameMap._events[r]._y)<2?($gameMap.event(r).moveDiagonally(g,m),worker.postMessage(\"confirmed:\"+update[1]+\":\"+update[2]+\":\"+update[3])):Math.abs(Number(update[2])-$gameMap._events[r]._x)+Math.abs(Number(update[3])-$gameMap._events[r]._y)>2?worker.postMessage(\"denied:\"+update[1]+\":\"+($gameMap._heightMap[0].length+1)+\":\"+($gameMap._heightMap.length+1)):worker.postMessage(\"denied:\"+update[1]+\":\"+update[2]+\":\"+update[3])}}else if(update[0].startsWith(\"spawn\"))Number(update[1])==playerid&&1==window.playerdead&&(window.playerdead=!1,$gamePlayer._through=!1,$gamePlayer._transparent=!1,$gameScreen.startTint([0,0,0,0],60),7==$gameMap._mapId&&\"m\"==update[3]&&($gamePlayer._characterName=\"Monster\",$gamePlayer._characterIndex=1,$gameParty.battleMembers()[0]._characterName=\"Monster\",$gameParty.battleMembers()[0]._characterIndex=1)),$gameMap.event(Number(update[1]))||Number(update[1])==playerid?$gameMap.event(Number(update[1]))&&Number(update[1])!=playerid&&($gameMap.event(Number(update[1])).mynameis=\"[\"+(Number(update[1])-1e3)+\"]\"+update[2],$gameSelfSwitches.setValue([$gameMap._mapId,Number(update[1]),\"A\"],!1),7==$gameMap._mapId&&\"m\"==update[3]&&($gameMap.event(Number(update[1]))._characterName=\"Monster\",$gameMap.event(Number(update[1]))._characterIndex=1)):eventmaxcounter<1e3&&(Yanfly.SpawnEventAt(2,1,5,5,!0,\"[\"+(Number(update[1])-1e3)+\"]\"+update[2]),eventmaxcounter++);else if(update[0].startsWith(\"selfswitch\"))$gameSelfSwitches.setValue([$gameMap._mapId,Number(update[1]),update[2]],\"true\"==update[3]);else if(update[0].startsWith(\"arrow\"))Yanfly.SpawnEventAt1(2,3,Number(update[1]),Number(update[2]),!0,\"\",Number(update[4])),$gameMap.event(1999+lastspawnedabove100).playerwhospawned=Number(update[3]),$gameMap.event(1999+lastspawnedabove100)._canPlayFootsteps=!1;else if(update[0].startsWith(\"build\"))Yanfly.SpawnEventAt1(2,Number(update[3]),Number(update[1]),Number(update[2]),!0,\"\",\"\"),$gameMap.event(1999+lastspawnedabove100).serverID=Number(update[4]),$gameMap.event(1999+lastspawnedabove100).HP=99,\"tpExit\"==update[5]?$gameMap.event(1999+lastspawnedabove100).tpExit=Number(update[6]):\"tpEntrance\"==update[5]?$gameMap.event(1999+lastspawnedabove100).tpEntrance=Number(update[6]):\"mob\"==update[5]?$gameMap.event(1999+lastspawnedabove100).ismob=!0:\"tocopy\"==update[5]&&($gameMap.event(1999+lastspawnedabove100).tocopy=Number(update[6]));else if(update[0].startsWith(\"magic\"))Yanfly.SpawnEventAt1(2,2,Number(update[1]),Number(update[2]),!0,\"\",Number(update[4])),$gameMap.event(1999+lastspawnedabove100).playerwhospawned=Number(update[3]),$gameMap.event(1999+lastspawnedabove100)._canPlayFootsteps=!1;else if(update[0].startsWith(\"damage\"))$gamePlayer._x==update[2]&&$gamePlayer._y==update[3]&&playerid!=Number(update[1])&&0==playerdead&&($gameParty.members()[0].gainHp(-25),$gameParty.members()[0]._hp<=1&&worker.postMessage(\"sendgold:\"+Number(update[1])+\":player\"));else if(\"dead\"===update[0]){if(!$gameMap.event(1e3+Number(update[1])))return;7==$gameMap._mapId&&\"Monster\"!==$gamePlayer._characterName&&playerid-1e3==Number(update[1])?$gameParty.members().forEach(function(e){e.setHp(1)}):($gameSelfSwitches.setValue([$gameMap._mapId,1e3+Number(update[1]),\"A\"],!0),$gameMap.event(1e3+Number(update[1])).bitmap.clear(),SceneManager._scene.removeChild($gameMap.event(1e3+Number(update[1])).sprite))}else if(update[0].startsWith(\"roundstarted\"))1==$gameMap._mapId?($gameMap._interpreter.pluginCommand(\"AllowPlayerMovement\",[]),$gamePlayer.reserveTransfer(5,$gamePlayer._x,$gamePlayer._y,2,1),$gameMessage.add(\"The round has already started. Wait for the next.\"),$gameParty.members().forEach(function(e){e.setHp(1)})):7==$gameMap._mapId&&$gameParty.members().forEach(function(e){e.setHp(1)});else if(update[0].startsWith(\"chest\"))Yanfly.SpawnEventAt1(2,Number(update[1]),Number(update[2]),Number(update[3]),!0,\"\",\"\"),$gameMap.event(1999+lastspawnedabove100).serverID=Number(update[4]);else if(update[0].startsWith(\"begin\")){if($gamePlayer.reserveTransfer($gameMap.mapId(),$gamePlayer._x,$gamePlayer._y,2,1),chatopen=!1,document.getElementById(\"txtarea\")&&document.getElementById(\"chatInput\")&&(document.getElementById(\"txtarea\").style.visibility=\"visible\",document.getElementById(\"txtarea\").style.overflowY=\"hidden\",document.getElementById(\"txtarea\").style.background=\"\",document.getElementById(\"chatInput\").style.visibility=\"hidden\"),1==$gameMap._mapId||6==$gameMap._mapId?$gameMessage.add(\"The game began!\\\\|\\\\^\"):7==$gameMap._mapId&&(AudioManager.playSe({name:\"zombie_long_groan\",volume:90,pitch:90,pan:0}),$gameMessage.setBackground(2),$gameMessage.setPositionType(1),$gameMessage.add(\"Zombie outbreak!\\\\|\\\\^\"),setTimeout(()=>{$gameMessage.setBackground(0),$gameMessage.setPositionType(2)},1e3)),$gameMap._interpreter.pluginCommand(\"AllowPlayerMovement\",[]),resetsignal=0,$gameTimer.start(18050),7==$gameMap._mapId){function n(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e))+e}for(r=1001;r<2001&&$gameMap.event(r);r++)$gameMap.event(r)._characterName=\"Actor1\",$gameMap.event(r)._characterIndex=n(1,7)}}else if(update[0].startsWith(\"reset\")){$gamePlayer._characterName=\"Actor1\",$gamePlayer._characterIndex=0,$gameParty.battleMembers()[0]._characterName=\"Actor1\",$gameParty.battleMembers()[0]._characterIndex=0,chatopen=!1,document.getElementById(\"txtarea\")&&document.getElementById(\"chatInput\")&&(document.getElementById(\"txtarea\").style.visibility=\"visible\",document.getElementById(\"txtarea\").style.overflowY=\"hidden\",document.getElementById(\"txtarea\").style.background=\"\",document.getElementById(\"chatInput\").style.visibility=\"hidden\"),resetsignal=1,$enemieskilled=0,1==$gameMap._mapId&&setTimeout(()=>{$gameMessage.add(\"Reseting match!\\\\|\\\\|\\\\^\")},100),setTimeout(()=>{resetsignal=0,window.playerdead=!1},1e3);for(r=$gameMap._events.length-1;r>=999;r--)$gameMap._events[r].ismob&&1==$gameMap._events[r].ismob&&$gameMap.eraseEvent($gameMap.event(r)._eventId);function n(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e))+e}for(r=1001;r<2001;r++)$gameMap.event(r)&&($gameMap.event(r)._characterName=\"Actor1\",$gameMap.event(r)._characterIndex=n(1,7))}else if(update[0].startsWith(\"gamewillbegin\")){function n(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e))+e}chatopen=!1,document.getElementById(\"txtarea\")&&document.getElementById(\"chatInput\")&&(document.getElementById(\"txtarea\").style.visibility=\"visible\",document.getElementById(\"txtarea\").style.overflowY=\"hidden\",document.getElementById(\"txtarea\").style.background=\"\",document.getElementById(\"chatInput\").style.visibility=\"hidden\"),1==$gameMap._mapId&&setTimeout(()=>{$gameMessage.add(\"The game will begin in 3 seconds!\\\\|\\\\|\\\\^\")},100);for(r=1001;r<2001&&$gameMap.event(r);r++)$gameMap.event(r)._characterName=\"Actor1\",$gameMap.event(r)._characterIndex=n(1,7)}else if(\"checked\"===update[0])window.receivedping=!0,ping=Number(update[1]);else if(\"receivegold\"===update[0])update[2]&&\"player\"==update[2]&&$enemieskilled++,$gameParty.gainGold(Number(update[1]));else if(\"flashlight\"===update[0]&&$gameMap.event(Number(update[1]))&&0==$gameMap.event(Number(update[1]))._erased)$gameMap.event(Number(update[1])).callKhasCommand(\"light\",update[2]);else if(\"message\"===update[0])update.shift(),$gameMessage.add(update.join(\":\"));else if(\"through\"===update[0]){var s=Number(update[1]);$gameMap._events[s]._through=\"true\"==update[2]}else if(\"rotation\"===update[0])$gameMap.event(Number(update[1]))&&0==$gameMap.event(Number(update[1]))._erased&&($gameMap.event(Number(update[1]))._direction=Number(update[2]));else if(\"animation\"==update[0])Number(update[1])==playerid?$gamePlayer.requestAnimation(Number(update[2]),update[3]):$gameMap.event(Number(update[1]))&&0==$gameMap.event(Number(update[1]))._erased&&$gameMap.event(Number(update[1])).requestAnimation(Number(update[2]),update[3]);else if(\"destroy\"===update[0])for(r=0;r<$gameMap.eventsXy(Number(update[2]),Number(update[3])).length;r++)$gameMap.eventsXy(Number(update[2]),Number(update[3]))[r].serverID==update[1]&&$gameMap.eraseEvent($gameMap.eventsXy(Number(update[2]),Number(update[3]))[r]._eventId);else if(\"chat\"===update[0]){var y=document.getElementById(\"txtarea\"),p=document.createElement(\"div\"),l=document.createElement(\"span\"),$=document.createElement(\"span\");if(l.style.color=\"#c92cac\",$.style.color=\"#000000\",$.style.textShadow=\"-1px 0 rgba(230, 230, 230, 0.25), 0 1px rgba(230, 230, 230, 0.25), 1px 0 rgba(230, 230, 230, 0.25), 0 -1px rgba(230, 230, 230, 0.25)\",l.style.textShadow=\"-1px 0 rgba(230, 230, 230, 0.25), 0 1px rgba(230, 230, 230, 0.25), 1px 0 rgba(230, 230, 230, 0.25), 0 -1px rgba(230, 230, 230, 0.25)\",\"\"!==update[1]){if(l.textContent=update[1]+\": \",\"true\"==localStorage.texttospeech){var i=new SpeechSynthesisUtterance;i.lang=\"en-US\",i.text=update[1]+\" has said:\"+update.slice(2,update.length).join(\":\"),window.speechSynthesis.speak(i)}}else l.textContent=\"\";l.whiteSpace=\"pre-wrap\",$.whiteSpace=\"pre-wrap\",l.style.wordWrap=\"break-word\",$.style.wordWrap=\"break-word\",$.textContent=changechat(update.slice(2,update.length).join(\":\")),p&&(p.appendChild(l),p.appendChild($)),chatHistory.push([l,$]),y&&(y.appendChild(p),y.scrollTop=y.scrollHeight)}else if(\"tpevent\"===update[0]){if(null==playerid)return;Number(update[3])==playerid?($gamePlayer.reserveTransfer($gameMap._mapId,Number(update[1]),Number(update[2]),$gamePlayer._direction,2,!0),lastpos=\"update:\"+(playerid-1e3)+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y+\":false\"):$gameMap.event(Number(update[3])).setPosition(Number(update[1]),Number(update[2]))}else if(\"tpmob\"===update[0])for(r=$gameMap._events.length-1;r>=0;r--)$gameMap._events[r]&&$gameMap._events[r].serverID&&$gameMap._events[r].serverID==update[1]&&$gameMap.event(r).setPosition(Number(update[2]),Number(update[3]));else if(\"server\"===update[0]){if(update=(update=update.splice(1,update.length)).join(\":\"),void 0!==server)try{server.onmessage(update)}catch(e){}}else\"closed\"==update?(connectedtotheserver=!1,$gameMessage.add(\"Connection lost.\\\\|\\\\|\\\\^\"),setTimeout(()=>{worker.terminate(),location.reload()},2200)):update[0].startsWith(\"reconnect\")&&(temp=update.join(\":\"),localStorage.reconnect=temp.split(\";;\")[1])},localStorage.myname||(localStorage.myname=\"Player\"),serverpass?worker.postMessage(\"connectto:\"+finallist[join]+\":\"+serverpass):worker.postMessage(\"connectto:\"+finallist[join]),fetch(\"https://peq42.com/wp-json/connectioninfo/v1/check\").then(e=>e.json()).then(e=>{var a=String(localStorage.myname);worker.postMessage(\"name:\"+a.replace(/:/g,\"\")+\":\"+e)}).catch(()=>{}),previousdirection=$gamePlayer._direction,currentselected=1,document.onmousedown=function(e){if(1==e.which&&SceneManager._scene instanceof Scene_Menu==0&&(1==currentselected&&0===weapondelay&&!1===chatopen&&$gameTemp.reserveCommonEvent(2,!0),2==currentselected&&!1===chatopen&&$gameTemp.reserveCommonEvent(7,!0),3==currentselected&&!1===chatopen&&$gameTemp.reserveCommonEvent(3,!0),\"Monster\"==$gamePlayer._characterName&&0==weapondelay))if(setTimeout(()=>{weapondelay=0},weapondelay),2==$gamePlayer._direction){worker.postMessage(\"animation:\"+playerid+\":10:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+($gamePlayer._y+1));for(var a=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;a--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].y)));for(a=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1).length;a--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].y)))}else if(8==$gamePlayer._direction){worker.postMessage(\"animation:\"+playerid+\":9:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+($gamePlayer._y-1));for(a=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;a--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].y)));for(a=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1).length;a--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y-1)[a].y)))}else if(4==$gamePlayer._direction){worker.postMessage(\"animation:\"+playerid+\":8:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x-1)+\":\"+$gamePlayer._y);for(a=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;a--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].y)));for(a=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y).length;a--;)$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a]&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].HP?$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x-1,$gamePlayer._y)[a].y)))}else if(6==$gamePlayer._direction){worker.postMessage(\"animation:\"+playerid+\":7:true\"),worker.postMessage(\"damage:\"+playerid+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y),worker.postMessage(\"damage:\"+playerid+\":\"+($gamePlayer._x+1)+\":\"+$gamePlayer._y);for(a=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y).length;a--;)$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP?$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x,$gamePlayer._y+1)[a].y)));for(a=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y).length;a--;)$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a]&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].HP&&0==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a]._erased&&(99==$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].HP?$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a]._direction=6):$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].isbuilding&&($gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a]._direction=8),$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].HP-=30,$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].HP<=0&&$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].isbuilding&&(null!=$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].ismob&&$gameParty.gainGold(30),worker.postMessage(\"destroy:\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].serverID+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].x+\":\"+$gameMap.eventsXy($gamePlayer._x+1,$gamePlayer._y)[a].y)))}},checkfire=!1,checkdrop=!1,$tab=void 0,otherchoisesopened=!1;var keyconfig_alias=Scene_Map.prototype.updateScene;Scene_Map.prototype.updateScene=function(){var e,a;keyconfig_alias.call(this);for(var t=1001;t<2001;t++)$gameMap.event(t)&&(e=$gameMap.event(t)).mynameis&&(e.bitmap&&$gameMap.event(t).bitmap.clear(),e.sprite&&SceneManager._scene.removeChild($gameMap.event(t).sprite),1!=e._erased&&(a=\"6,\"+t+\",A\",1!=$gameSelfSwitches._data[a]&&1!==e._pageIndex&&((e._x-$gamePlayer._x)*(e._x-$gamePlayer._x)+(e._y-$gamePlayer._y)*(e._y-$gamePlayer._y)>900||($gameMap.event(t).bitmap=new Bitmap(120,40),$gameMap.event(t).bitmap.outlineWidth=2,$gameMap.event(t).bitmap.fontSize=14,$gameMap.event(t).bitmap.drawText($gameMap.event(t).mynameis,0,0,120,40,\"center\"),$gameMap.event(t).sprite=new Sprite($gameMap.event(t).bitmap),$gameMap.event(t).sprite.z=20,$gameMap.event(t).sprite.setFrame(0,0,Graphics.boxWidth,Graphics.boxHeight),SceneManager._scene.addChild($gameMap.event(t).sprite),$gameMap.event(t).sprite.x=e.screenX()-60,$gameMap.event(t).sprite.y=e.screenY()-80))));if($tab&&($tab.clear(),SceneManager._scene.removeChild($tabs),$tab=void 0),SceneManager.isSceneChanging()||!Input.isTriggered(\"tab\")&&!Input.isPressed(\"tab\")||$tab||($tab=new Bitmap(250,200),$tab.fillAll(\"black\"),$tabs=new Sprite($tab),$tabs.x=5,$tabs.y=5,$tabs.alpha=.5,$tab.fontSize=22,$tab.drawText(\"Name:\"+localStorage.myname+\"   ID:\"+(playerid-1e3),9,140,200,.5,\"left\"),$tab.drawText(\"Enemies Killed:\"+$enemieskilled,9,165,200,.5,\"left\"),SceneManager._scene.addChild($tabs)),0==$gamePlayer.isMoving()&&0==chatopen&&0==$gameMessage.isBusy())if(Input.isPressed(\"up\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y,8)){var r=$gamePlayer._x,m=$gamePlayer._y-1;Input.isPressed(\"left\")&&!Input.isPressed(\"right\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y-1,4)?r-=1:Input.isPressed(\"right\")&&!Input.isPressed(\"left\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y-1,6)&&(r+=1),worker.postMessage(\"sendposition:\"+r+\":\"+m+\":\"+$gamePlayer.isDashing())}else if(Input.isPressed(\"down\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y,2)){r=$gamePlayer._x,m=$gamePlayer._y+1;Input.isPressed(\"left\")&&!Input.isPressed(\"right\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y+1,4)?r-=1:Input.isPressed(\"right\")&&!Input.isPressed(\"left\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y+1,6)&&(r+=1),worker.postMessage(\"sendposition:\"+r+\":\"+m+\":\"+$gamePlayer.isDashing())}else if(Input.isPressed(\"left\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y,4)){r=$gamePlayer._x-1,m=$gamePlayer._y;Input.isPressed(\"up\")&&!Input.isPressed(\"down\")&&$gamePlayer.canPass($gamePlayer._x-1,$gamePlayer._y,8)?m-=1:Input.isPressed(\"down\")&&!Input.isPressed(\"up\")&&$gamePlayer.canPass($gamePlayer._x-1,$gamePlayer._y,2)&&(m+=1),worker.postMessage(\"sendposition:\"+r+\":\"+m+\":\"+$gamePlayer.isDashing())}else if(Input.isPressed(\"right\")&&$gamePlayer.canPass($gamePlayer._x,$gamePlayer._y,6)){r=$gamePlayer._x+1,m=$gamePlayer._y;Input.isPressed(\"up\")&&!Input.isPressed(\"down\")&&$gamePlayer.canPass($gamePlayer._x+1,$gamePlayer._y,8)?m-=1:Input.isPressed(\"down\")&&!Input.isPressed(\"up\")&&$gamePlayer.canPass($gamePlayer._x+1,$gamePlayer._y,2)&&(m+=1),worker.postMessage(\"sendposition:\"+r+\":\"+m+\":\"+$gamePlayer.isDashing())}if(!SceneManager.isSceneChanging()&&3!=$gameMap._mapId){if((Input.isTriggered(\"menu\")||Input.isTriggered(\"escape\"))&&(!1===escmenu&&0==checkdrop&&0==checkfire&&!1===chatopen&&!1===otherchoisesopened&&SceneManager._scene instanceof Scene_Options==!1&&SceneManager._scene instanceof Scene_Menu==!1&&($gameTemp.reserveCommonEvent(11,!0),escmenu=!0),escpressed=!0),Input.isPressed(\"fire\")&&(checkfire=!0,null==g))var g=setTimeout(()=>{Input.isPressed(\"fire\")||(checkfire=!1),g=void 0},500);if(Input.isPressed(\"drop\")&&(0==Input.isControllerConnected()&&!1===chatopen&&(1==currentselected&&$gameTemp.reserveCommonEvent(8,!0),2==currentselected&&$gameTemp.reserveCommonEvent(10,!0),3==currentselected&&$gameTemp.reserveCommonEvent(9,!0)),checkdrop=!0,null==n))var n=setTimeout(()=>{Input.isPressed(\"drop\")||(checkdrop=!1),n=void 0},500);Input.isTriggered(\"weapon\")&&(0==chatopen&&AudioManager.playSe({name:\"Miss\",volume:90,pitch:100,pan:0}),currentselected=1),Input.isTriggered(\"potion\")&&(0==chatopen&&AudioManager.playSe({name:\"Miss\",volume:90,pitch:100,pan:0}),currentselected=2),Input.isTriggered(\"shield\")&&(0==chatopen&&AudioManager.playSe({name:\"Miss\",volume:90,pitch:100,pan:0}),currentselected=3),1==checkfire&&Input.isTriggered(\"ok\")?0===weapondelay&&!1===chatopen&&$gameTemp.reserveCommonEvent(2,!0):1==checkfire&&Input.isTriggered(\"cancel\")&&!1===chatopen?$gameTemp.reserveCommonEvent(7,!0):1==checkfire&&Input.isTriggered(\"menu\")&&!1===chatopen?$gameTemp.reserveCommonEvent(3,!0):1==checkdrop&&Input.isTriggered(\"ok\")&&!1===chatopen?$gameTemp.reserveCommonEvent(8,!0):1==checkdrop&&Input.isTriggered(\"cancel\")&&!1===chatopen?$gameTemp.reserveCommonEvent(10,!0):1==checkdrop&&Input.isTriggered(\"menu\")&&!1===chatopen?$gameTemp.reserveCommonEvent(9,!0):(Input.isTriggered(\"lantern\")||1==checkfire&&Input.isTriggered(\"shift\"))&&!1===chatopen&&\"Monster\"!=$gamePlayer._characterName?!1===lantern?(lantern=!0,$gameMap._interpreter.pluginCommand(\"PlayerLantern\",[\"flashlight\"]),worker.postMessage(\"flashlight:\"+playerid+\":flashlight\")):(lantern=!1,$gameMap._interpreter.pluginCommand(\"PlayerLantern\",[\"OFF\"]),worker.postMessage(\"flashlight:\"+playerid+\":OFF\")):(Input.isTriggered(\"lantern\")||1==checkfire&&Input.isTriggered(\"shift\"))&&!1===chatopen&&(!1===lantern?(lantern=!0,AudioManager.playSe({name:\"Neon\",volume:40,pitch:100,pan:0}),$gameMap._interpreter.pluginCommand(\"ambientlight\",[\"50\"]),$gameScreen.startTint([34,-34,-68,170],0)):(lantern=!1,AudioManager.playSe({name:\"Neon\",volume:40,pitch:100,pan:0}),$gameMap._interpreter.pluginCommand(\"ambientlight\",[\"7\"]),$gameScreen.startTint([0,0,0,0],0)))}},setInterval(()=>{0==$gamePlayer.isMoving()&&worker.postMessage(\"sendposition:\"+$gamePlayer._x+\":\"+$gamePlayer._y+\":false\")},100);"]},{"code":355,"indent":0,"parameters":["$gameTemp.reserveCommonEvent(1,true)"]},{"code":121,"indent":0,"parameters":[5000,5000,1]},{"code":135,"indent":0,"parameters":[0]},{"code":214,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"client","switchId":5000,"trigger":1},
{"id":7,"list":[{"code":111,"indent":0,"parameters":[8,1]},{"code":355,"indent":1,"parameters":["worker.postMessage(\"animation:\"+playerid+\":5:true\") "]},{"code":126,"indent":1,"parameters":[1,1,0,1]},{"code":311,"indent":1,"parameters":[0,0,0,0,50,false]},{"code":235,"indent":1,"parameters":[100]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[8,5]},{"code":355,"indent":2,"parameters":["worker.postMessage(\"animation:\"+playerid+\":6:true\") "]},{"code":126,"indent":2,"parameters":[5,1,0,1]},{"code":312,"indent":2,"parameters":[0,0,0,0,50]},{"code":235,"indent":2,"parameters":[100]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"potion","switchId":1,"trigger":0},
{"id":8,"list":[{"code":111,"indent":0,"parameters":[8,2]},{"code":126,"indent":1,"parameters":[2,1,0,1]},{"code":355,"indent":1,"parameters":["worker.postMessage(\"chest:\"+4+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y)"]},{"code":235,"indent":1,"parameters":[100]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[8,4]},{"code":126,"indent":2,"parameters":[4,1,0,1]},{"code":355,"indent":2,"parameters":["worker.postMessage(\"chest:\"+7+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y)"]},{"code":235,"indent":2,"parameters":[100]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"dropweapon","switchId":1,"trigger":0},
{"id":9,"list":[{"code":111,"indent":0,"parameters":[8,6]},{"code":126,"indent":1,"parameters":[6,1,0,1]},{"code":355,"indent":1,"parameters":["worker.postMessage(\"chest:\"+9+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y)"]},{"code":235,"indent":1,"parameters":[100]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[8,7]},{"code":126,"indent":2,"parameters":[7,1,0,1]},{"code":355,"indent":2,"parameters":["worker.postMessage(\"chest:\"+10+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y)"]},{"code":235,"indent":2,"parameters":[100]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"dropmelee","switchId":1,"trigger":0},
{"id":10,"list":[{"code":111,"indent":0,"parameters":[8,1]},{"code":126,"indent":1,"parameters":[1,1,0,1]},{"code":355,"indent":1,"parameters":["worker.postMessage(\"chest:\"+6+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y)"]},{"code":111,"indent":1,"parameters":[8,1]},{"code":0,"indent":2,"parameters":[]},{"code":411,"indent":1,"parameters":[]},{"code":235,"indent":2,"parameters":[100]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":411,"indent":0,"parameters":[]},{"code":111,"indent":1,"parameters":[8,5]},{"code":126,"indent":2,"parameters":[5,1,0,1]},{"code":355,"indent":2,"parameters":["worker.postMessage(\"chest:\"+8+\":\"+$gamePlayer._x+\":\"+$gamePlayer._y)"]},{"code":111,"indent":2,"parameters":[8,5]},{"code":0,"indent":3,"parameters":[]},{"code":411,"indent":2,"parameters":[]},{"code":235,"indent":3,"parameters":[100]},{"code":0,"indent":3,"parameters":[]},{"code":412,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"dropheal","switchId":1,"trigger":0},
{"id":11,"list":[{"code":355,"indent":0,"parameters":["usingmenu=true"]},{"code":102,"indent":0,"parameters":[["Resume","Exit"],-1,0,1,0]},{"code":402,"indent":0,"parameters":[0,"Resume"]},{"code":355,"indent":1,"parameters":["escmenu=false"]},{"code":655,"indent":1,"parameters":["escpressed=false"]},{"code":655,"indent":1,"parameters":["usingmenu=false"]},{"code":0,"indent":1,"parameters":[]},{"code":402,"indent":0,"parameters":[1,"Exit"]},{"code":235,"indent":1,"parameters":[100]},{"code":205,"indent":1,"parameters":[-1,{"list":[{"code":39,"indent":null},{"code":0}],"repeat":false,"skippable":false,"wait":false}]},{"code":505,"indent":1,"parameters":[{"code":39,"indent":null}]},{"code":355,"indent":1,"parameters":[""]},{"code":655,"indent":1,"parameters":["turnHUDonoff();"]},{"code":655,"indent":1,"parameters":["if(worker) worker.postMessage(\"close\")"]},{"code":655,"indent":1,"parameters":["else location.reload()"]},{"code":0,"indent":1,"parameters":[]},{"code":404,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"exitButton","switchId":5,"trigger":0}
]